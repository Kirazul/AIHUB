<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="shortcut icon" href="/favicon.ico">
<title>AI HUB Text to Audio</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
--primary-color: #3a86ff;
--primary-light: #5c9aff;
--primary-dark: #2a76ef;
--secondary-color: #ae5ff8;
--light-bg: #030a19; /* Dark space background matching main page */
--border-color: #333344;
--text-color: #ffffff; /* Brighter text for better visibility */
--text-light: #d0d0d0;
--success-color: #10B981;
--error-color: #EF4444;
--border-radius: 10px;
--box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2), 0 0 1px rgba(0, 0, 0, 0.3);
--transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
--gradient-primary: linear-gradient(135deg, #3a86ff, #ae5ff8);
--gradient-secondary: linear-gradient(135deg, #ae5ff8, #ff2a6d);
--card-bg: #071428; /* Dark card background */
--nebula-color1: rgba(174, 95, 248, 0.25);
--nebula-color2: rgba(184, 146, 255, 0.25);
--nebula-color3: rgba(0, 212, 255, 0.25);
--nebula-color4: rgba(58, 134, 255, 0.2);
--nebula-color5: rgba(0, 245, 212, 0.15);
--voice-alloy: #4F46E5;
--voice-echo: #6366F1;
--voice-fable: #8B5CF6;
--voice-onyx: #333333;
--voice-nova: #10B981;
--voice-shimmer: #60A5FA;
--voice-coral: #F87171;
--voice-verse: #FBBF24;
--voice-ballad: #A78BFA;
--voice-ash: #4B5563;
--voice-sage: #059669;
--voice-amuch: #F59E0B;
--voice-aster: #2563EB;
--voice-brook: #3B82F6;
--voice-clover: #EC4899;
--voice-dan: #1F2937;
--voice-elan: #7C3AED;
--voice-marilyn: #DB2777;
--voice-meadow: #34D399;
}
@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600&family=Inter:wght@200;300;400;500&display=swap');

* {
box-sizing: border-box;
margin: 0;
padding: 0;
font-family: 'Space Grotesk', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}
body {
background-color: var(--light-bg);
color: var(--text-color);
line-height: 1.5;
padding: 0;
margin: 0;
background-image: 
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400' viewBox='0 0 800 800'%3E%3Cg fill='none' stroke='%23122240' stroke-width='1'%3E%3Cpath d='M769 229L1037 260.9M927 880L731 737 520 660 309 538 40 599 295 764 126.5 879.5 40 599-197 493 102 382-31 229 126.5 79.5-69-63'/%3E%3Cpath d='M-31 229L237 261 390 382 603 493 308.5 537.5 101.5 381.5M370 905L295 764'/%3E%3Cpath d='M520 660L578 842 731 737 840 599 603 493 520 660 295 764 309 538 390 382 539 269 769 229 577.5 41.5 370 105 295 -36 126.5 79.5 237 261 102 382 40 599 -69 737 127 880'/%3E%3Cpath d='M520-140L578.5 42.5 731-63M603 493L539 269 237 261 370 105M902 382L539 269M390 382L102 382'/%3E%3Cpath d='M-222 42L126.5 79.5 370 105 539 269 577.5 41.5 927 80 769 229 902 382 603 493 731 737M295-36L577.5 41.5M578 842L295 764M40-201L127 80M102 382L-261 269'/%3E%3C/g%3E%3Cg fill='%23052044'%3E%3Ccircle cx='769' cy='229' r='5'/%3E%3Ccircle cx='539' cy='269' r='5'/%3E%3Ccircle cx='603' cy='493' r='5'/%3E%3Ccircle cx='731' cy='737' r='5'/%3E%3Ccircle cx='520' cy='660' r='5'/%3E%3Ccircle cx='309' cy='538' r='5'/%3E%3Ccircle cx='295' cy='764' r='5'/%3E%3Ccircle cx='40' cy='599' r='5'/%3E%3Ccircle cx='102' cy='382' r='5'/%3E%3Ccircle cx='127' cy='80' r='5'/%3E%3Ccircle cx='370' cy='105' r='5'/%3E%3Ccircle cx='578' cy='42' r='5'/%3E%3Ccircle cx='237' cy='261' r='5'/%3E%3Ccircle cx='390' cy='382' r='5'/%3E%3C/g%3E%3C/svg%3E"),
    radial-gradient(ellipse at top, #061b35 0%, #020711 100%),
    linear-gradient(135deg, rgba(10, 36, 99, 0.3) 0%, rgba(59, 23, 99, 0.3) 50%, rgba(125, 31, 47, 0.3) 100%);
background-blend-mode: overlay;
background-attachment: fixed;
overflow-x: hidden;
min-height: 100vh;
}
.container {
max-width: 1400px;
margin: 0 auto;
padding: 1.5rem 1rem; /* 减小顶部和底部内边距 */
}
header {
padding: 1.5rem 0 2rem; /* 减小页眉的内边距 */
text-align: center;
position: relative;
}
h1 {
font-size: 2.8rem;
font-weight: 600;
margin-bottom: 0.75rem;
color: #ffffff;
position: relative;
display: inline-block;
text-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
background: linear-gradient(45deg, #ffffff 10%, var(--primary-color) 50%, var(--secondary-color) 100%);
background-size: 200% auto;
-webkit-background-clip: text;
background-clip: text;
-webkit-text-fill-color: transparent;
animation: gradient-move 8s ease infinite;
letter-spacing: 2px;
}

@keyframes gradient-move {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}
.description {
font-size: 1.1rem;
color: var(--text-light);
max-width: 700px;
margin: 0 auto;
line-height: 1.6;
}
.content {
display: flex;
gap: 1.5rem; /* 减小两列间距 */
margin-top: 1.5rem; /* 减小顶部间距 */
position: relative;
}
.text-input-section, .audio-output-section {
flex: 1;
width: 50%;
}
.card {
background: rgba(7, 20, 40, 0.7);
background-image: linear-gradient(135deg, rgba(255, 255, 255, 0.03) 0%, rgba(0, 0, 0, 0) 100%);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 1.25rem;
margin-bottom: 1.25rem;
transition: var(--transition);
position: relative;
overflow: hidden;
border: 1px solid rgba(58, 134, 255, 0.1);
backdrop-filter: blur(10px);
height: auto;
box-shadow: 0 5px 15px rgba(58, 134, 255, 0.15);
}
.card:hover {
transform: translateY(-5px);
box-shadow: 0 8px 25px rgba(58, 134, 255, 0.2), 0 0 10px rgba(58, 134, 255, 0.1) inset;
border-color: rgba(58, 134, 255, 0.2);
}
.section-title {
font-size: 1.25rem;
font-weight: 600;
margin-bottom: 1rem; /* 减小标题下方间距 */
color: var(--text-color);
display: flex;
align-items: center;
}
.section-title i {
margin-right: 0.75rem;
background: var(--gradient-primary);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
font-size: 1.1rem;
}
textarea {
width: 100%;
height: 180px; /* 减小文本框的高度 */
padding: 1rem;
border: 1px solid var(--border-color);
border-radius: var(--border-radius);
resize: vertical;
font-size: 1rem;
margin-bottom: 0.5rem;
transition: var(--transition);
background-color: rgba(18, 26, 41, 0.8); /* Darker background for textarea */
box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
line-height: 1.6;
color: var(--text-color);
}
textarea:focus {
outline: none;
border-color: var(--primary-light);
box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
background-color: rgba(26, 32, 44, 0.9); /* Slightly lighter when focused */
}
.text-stats {
display: flex;
align-items: center;
margin-bottom: 1rem; /* 减小下方间距 */
font-size: 0.9rem;
color: var(--text-light);
}
.text-stat {
margin-right: 1.5rem;
display: flex;
align-items: center;
}
.text-stat i {
margin-right: 0.4rem;
color: var(--primary-light);
}
.btn {
display: inline-flex;
align-items: center;
justify-content: center;
background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
color: white;
border: none;
padding: 0.75rem 1.25rem;
height: 2.75rem;
cursor: pointer;
border-radius: var(--border-radius);
font-size: 1rem;
font-weight: 500;
transition: var(--transition);
box-shadow: 0 2px 10px rgba(58, 134, 255, 0.3);
position: relative;
overflow: hidden;
letter-spacing: 0.5px;
}
.btn::after {
content: '';
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: linear-gradient(rgba(255,255,255,0.1), rgba(255,255,255,0));
opacity: 0;
transition: opacity 0.3s;
}
.btn:hover::after {
opacity: 1;
}
.btn:active {
transform: translateY(1px);
box-shadow: 0 1px 3px rgba(79, 70, 229, 0.2);
}
.btn-success {
background: linear-gradient(135deg, #10B981, #059669);
box-shadow: 0 2px 6px rgba(16, 185, 129, 0.3);
}
.btn-text {
background: none;
color: var(--primary-color);
padding: 0;
height: auto;
font-weight: 500;
box-shadow: none;
}
.btn-text:hover {
background: none;
color: var(--primary-dark);
text-decoration: underline;
box-shadow: none;
}
.btn-text::after {
display: none;
}
.btn i {
margin-right: 0.5rem;
}
.btn-danger {
background: linear-gradient(135deg, #EF4444, #DC2626);
box-shadow: 0 2px 6px rgba(239, 68, 68, 0.3);
}
.btn-sm {
padding: 0.4rem 0.8rem;
height: 2.2rem;
font-size: 0.9rem;
}
.select-wrapper {
position: relative;
margin-bottom: 1.25rem;
}
.select-icon {
position: absolute;
right: 1rem;
top: 50%;
transform: translateY(-50%);
color: var(--text-light);
pointer-events: none;
}
select {
width: 100%;
padding: 0.8rem 1rem;
border: 1px solid var(--border-color);
border-radius: var(--border-radius);
font-size: 1rem;
background-color: rgba(18, 26, 41, 0.8); /* Darker background for select */
appearance: none;
transition: var(--transition);
box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
cursor: pointer;
color: var(--text-color);
}
select:focus {
outline: none;
border-color: var(--primary-light);
box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
background-color: rgba(26, 32, 44, 0.9); /* Slightly lighter when focused */
}
.voice-selection {
margin-bottom: 1.25rem; /* 减小下方间距 */
}
.voice-selection label {
display: block;
margin-bottom: 0.5rem; /* 减小下方间距 */
font-size: 0.95rem;
color: var(--text-light);
font-weight: 500;
}
.audio-preview {
margin-bottom: 1.25rem; /* 减小下方间距 */
}
.custom-audio-player {
width: 100%;
margin-top: 0.75rem; /* 减小上方间距 */
border-radius: var(--border-radius);
background: #121a29; /* Dark background for audio player */
padding: 0.75rem; /* 减小内边距 */
box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.2);
}
audio {
width: 100%;
height: 60px; /* 减小音频播放器高度 */
border-radius: 25px;
}
audio::-webkit-media-controls-panel {
background: linear-gradient(135deg, #121a29, #1a2436);
}
audio::-webkit-media-controls-play-button {
background-color: var(--primary-light);
border-radius: 50%;
}
.status {
margin-top: 1rem; /* 减小上方间距 */
padding: 0.75rem; /* 减小内边距 */
border-radius: var(--border-radius);
font-size: 0.95rem;
display: none;
animation: fadeInUp 0.4s ease;
font-weight: 500;
}
@keyframes fadeInUp {
from { opacity: 0; transform: translateY(10px); }
to { opacity: 1; transform: translateY(0); }
}
.status.success {
background-color: rgba(16, 185, 129, 0.1);
color: #065F46;
display: block;
border-left: 3px solid var(--success-color);
}
.status.error {
background-color: rgba(239, 68, 68, 0.1);
color: #B91C1C;
display: block;
border-left: 3px solid var(--error-color);
}
.loading {
display: none;
align-items: center;
margin: 1rem 0; /* 减小上下间距 */
font-size: 0.95rem;
color: var(--text-light);
}
.loading .spinner {
display: inline-block;
width: 1.25rem;
height: 1.25rem;
border: 2px solid rgba(79, 70, 229, 0.2);
border-radius: 50%;
border-top-color: var(--primary-color);
animation: spin 1s linear infinite;
margin-right: 0.6rem;
}
@keyframes spin {
to { transform: rotate(360deg); }
}
.history-section {
margin-top: 1.25rem; /* 减小上方间距 */
}
.history-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 0.75rem; /* 减小下方间距 */
}
.history-warning {
background-color: rgba(250, 204, 21, 0.1);
border-left: 3px solid #FACC15;
padding: 0.6rem 0.75rem; /* 减小内边距 */
margin-bottom: 1rem; /* 减小下方间距 */
border-radius: var(--border-radius);
font-size: 0.9rem;
color: #FACC15; /* Brighter color for better contrast */
display: flex;
align-items: center;
}
.history-warning i {
margin-right: 0.5rem;
color: #EAB308;
}
.history-container {
max-height: 350px; /* 减小历史记录的最大高度 */
overflow-y: auto;
scrollbar-width: thin;
scrollbar-color: var(--primary-light) #F1F5F9;
}
.history-container::-webkit-scrollbar {
width: 6px;
}
.history-container::-webkit-scrollbar-track {
background: #F1F5F9;
border-radius: 10px;
}
.history-container::-webkit-scrollbar-thumb {
background-color: var(--primary-light);
border-radius: 10px;
}
.history-item {
display: flex;
align-items: center;
justify-content: space-between;
padding: 0.75rem 0.5rem; /* 减小内边距 */
border-bottom: 1px solid var(--border-color);
transition: var(--transition);
border-radius: 0.5rem;
}
.history-item:hover {
background-color: rgba(99, 102, 241, 0.1);
}
.history-item:last-child {
border-bottom: none;
}
.history-info {
flex: 1;
min-width: 0;
padding-right: 1rem;
}
.history-timestamp {
font-size: 0.8rem;
color: var(--text-light);
margin-bottom: 0.3rem; /* 减小下方间距 */
}
.history-voice {
font-size: 0.95rem;
font-weight: 600;
display: flex;
align-items: center;
color: var(--primary-dark);
margin-bottom: 0.2rem; /* 减小下方间距 */
}
.history-voice::before {
content: '';
display: inline-block;
width: 0.5rem;
height: 0.5rem;
background: var(--gradient-primary);
border-radius: 50%;
margin-right: 0.5rem;
}
.history-text {
font-size: 0.9rem;
color: var(--text-light);
white-space: nowrap;
overflow: hidden;
text-overflow: ellipsis;
max-width: 100%;
}
.no-history {
color: var(--text-light);
font-size: 0.95rem;
text-align: center;
padding: 1.5rem 0; /* 减小内边距 */
}
footer {
text-align: center;
padding: 2rem 0 1.5rem; /* 减小页脚内边距 */
color: var(--text-light);
font-size: 0.9rem;
opacity: 0.8;
}
footer i {
color: var(--primary-light);
}
/* Feature card */
.features-card {
margin-top: 1.5rem; /* 减小上方间距 */
background: linear-gradient(180deg, rgba(18, 26, 41, 0.9), rgba(8, 12, 19, 0.9)); /* Dark gradient background */
border-radius: var(--border-radius);
padding: 1.25rem; /* 减小内边距 */
box-shadow: var(--box-shadow);
border: 1px solid var(--border-color);
}
.features-title {
font-size: 1.1rem;
font-weight: 600;
margin-bottom: 0.75rem; /* 减小下方间距 */
color: var(--text-color);
text-align: center;
}
.features-list {
list-style-type: none;
padding: 0;
margin: 0;
}
.feature-item {
display: flex;
align-items: flex-start;
margin-bottom: 0.6rem; /* 减小下方间距 */
padding-bottom: 0.6rem; /* 减小内部下方间距 */
border-bottom: 1px solid var(--border-color);
}
.feature-item:last-child {
margin-bottom: 0;
padding-bottom: 0;
border-bottom: none;
}
.feature-icon {
flex-shrink: 0;
width: 24px;
height: 24px;
background: var(--gradient-primary);
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
margin-right: 0.8rem;
margin-top: 0.2rem;
}
.feature-icon i {
font-size: 0.8rem;
color: white;
}
.feature-text {
font-size: 0.95rem;
color: var(--text-color);
line-height: 1.5;
}
/* Animations */
@keyframes pulse {
0% { box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.4); }
70% { box-shadow: 0 0 0 10px rgba(99, 102, 241, 0); }
100% { box-shadow: 0 0 0 0 rgba(99, 102, 241, 0); }
}
@keyframes highlight {
0% { background-color: rgba(99, 102, 241, 0.1); }
100% { background-color: transparent; }
}
.history-item.new {
animation: highlight 2s ease;
}
/* Enhanced indicators */
.badge {
display: inline-flex;
align-items: center;
padding: 0.25rem 0.6rem;
border-radius: 20px;
font-size: 0.8rem;
font-weight: 600;
margin-left: 0.5rem;
background: var(--gradient-secondary);
color: white;
opacity: 0.9;
}
/* 优化语音风格选择按钮 */
.voice-style-selector {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); /* 减小最小宽度 */
gap: 0.4rem; /* 减小间距 */
margin-bottom: 1.25rem; /* 减小下方间距 */
}
.voice-style-option {
min-width: 0;
}
.voice-style-option input[type="radio"] {
display: none;
}
.voice-style-option label {
display: flex;
flex-direction: column;
align-items: center;
padding: 0.5rem 0.3rem; /* 减小内边距 */
border: 2px solid var(--border-color);
border-radius: var(--border-radius);
cursor: pointer;
transition: all 0.2s ease;
background: #121a29; /* Dark background for voice options */
text-align: center;
font-size: 0.85rem;
height: 100%;
}
.voice-style-option input[type="radio"]:checked + label {
border-color: var(--primary-color);
background: rgba(58, 134, 255, 0.15);
box-shadow: 0 0 0 2px rgba(58, 134, 255, 0.2), 0 0 10px rgba(58, 134, 255, 0.1) inset;
transform: translateY(-2px);
}
.voice-style-icon {
font-size: 1rem;
margin-bottom: 0.2rem; /* 减小下方间距 */
}
.voice-style-name {
font-weight: 600;
font-size: 0.8rem;
margin-bottom: 0.2rem;
line-height: 1.2;
}
.voice-style-desc {
font-size: 0.7rem;
color: var(--text-light);
line-height: 1.1;
}
/* 优化预览窗格 */
.preview-container {
background: linear-gradient(135deg, #12192a, #0a0d14);
border-radius: 15px;
padding: 1.5rem; /* 减小内边距 */
box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
margin-bottom: 1.25rem; /* 减小下方间距 */
position: relative;
overflow: hidden;
min-height: 250px; /* 减小最小高度 */
display: flex;
flex-direction: column;
}
.preview-header {
display: flex;
align-items: center;
margin-bottom: 1.25rem; /* 减小下方间距 */
}
.preview-title {
font-size: 1.2rem;
font-weight: 600;
margin: 0;
display: flex;
align-items: center;
}
.preview-title i {
margin-right: 0.75rem;
font-size: 1.4rem;
background: var(--gradient-primary);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
}
.preview-icon {
position: absolute;
right: -15px;
top: -15px;
width: 80px; /* 减小大小 */
height: 80px; /* 减小大小 */
opacity: 0.05;
transform: rotate(15deg);
color: var(--primary-color);
}
.preview-placeholder {
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
flex: 1;
color: var(--text-light);
border: 2px dashed #e5e7eb;
border-radius: 10px;
font-size: 0.95rem;
}
.preview-placeholder i {
margin-bottom: 0.75rem; /* 减小下方间距 */
font-size: 2.2rem; /* 减小图标大小 */
opacity: 0.5;
}
/* 优化快捷键提示样式 */
.shortcut-hint {
display: inline-flex;
align-items: center;
margin-left: 0.75rem; /* 减小左边距 */
font-size: 0.8rem;
color: var(--text-light);
vertical-align: middle;
}
.shortcut-hint kbd {
background: #F1F5F9;
padding: 0.1rem 0.3rem;
border-radius: 3px;
border: 1px solid #E2E8F0;
margin: 0 0.2rem;
font-family: monospace;
}
/* 优化使用提示区域 */
.usage-tips {
background: linear-gradient(to right, #121a29, #0f172a);
border-radius: var(--border-radius);
padding: 1rem; /* 减小内边距 */
margin-top: 1.25rem; /* 减小上方间距 */
border: 1px solid rgba(78, 70, 229, 0.2);
}
.tips-title {
font-size: 1rem;
font-weight: 600;
margin-bottom: 0.6rem; /* 减小下方间距 */
display: flex;
align-items: center;
}
.tips-title i {
margin-right: 0.5rem;
color: var(--secondary-color);
}
.tips-list {
list-style: none;
padding: 0;
margin: 0;
}
.tips-list li {
display: flex;
align-items: baseline;
margin-bottom: 0.4rem; /* 减小下方间距 */
font-size: 0.9rem;
}
.tips-list li:before {
content: "•";
color: var(--secondary-color);
font-weight: bold;
margin-right: 0.5rem;
}
.current-voice-info {
display: flex;
align-items: center;
margin-bottom: 0.75rem; /* 减小下方间距 */
background: rgba(18, 26, 41, 0.7);
padding: 0.6rem 0.75rem; /* 减小内边距 */
border-radius: 8px;
}
.current-voice-icon {
width: 36px; /* 减小图标大小 */
height: 36px; /* 减小图标大小 */
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
margin-right: 0.6rem; /* 减小右边距 */
color: white;
}
.current-voice-details {
flex: 1;
}
.current-voice-name {
font-weight: 600;
font-size: 1rem;
margin-bottom: 0.1rem; /* 减小下方间距 */
}
.current-voice-desc {
font-size: 0.8rem;
color: var(--text-light);
}
.divider {
height: 1px;
background: var(--border-color);
margin: 1.25rem 0; /* 减小上下间距 */
}
.input-section-title {
font-size: 1.1rem;
font-weight: 600;
margin-bottom: 0.75rem; /* 减小下方间距 */
display: flex;
align-items: center;
}
.input-section-title i {
margin-right: 0.5rem;
color: var(--primary-color);
}
/* 响应式设计 */
@media (max-width: 1024px) {
.content {
flex-direction: column;
}
.text-input-section, .audio-output-section {
width: 100%;
}
}
@media (max-width: 768px) {
.container {
padding: 1rem 0.8rem;
}
h1 {
font-size: 2rem;
}
.description {
font-size: 1rem;
padding: 0 1rem;
}
.card {
padding: 1rem; /* 进一步减小移动端的内边距 */
}
.section-title {
font-size: 1.1rem;
margin-bottom: 0.75rem;
}
textarea {
height: 160px; /* 进一步减小移动端的文本框高度 */
}
}

/* Stars container */
.stars-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    z-index: -2;
}
.star {
    position: absolute;
    width: 2px;
    height: 2px;
    background-color: #ffffff;
    border-radius: 50%;
    opacity: 0;
    animation: twinkle var(--duration) infinite ease-in-out var(--delay);
    box-shadow: 0 0 4px 1px rgba(255, 255, 255, 0.4);
}
.star.bright {
    width: 3px;
    height: 3px;
    box-shadow: 0 0 8px 2px rgba(255, 255, 255, 0.7), 0 0 12px 5px rgba(174, 95, 248, 0.3);
}
.star.extra-bright {
    width: 4px;
    height: 4px;
    box-shadow: 0 0 10px 3px rgba(255, 255, 255, 0.9), 0 0 15px 8px rgba(0, 255, 225, 0.5);
    z-index: -1;
}
@keyframes twinkle {
    0%, 100% { opacity: 0; transform: scale(0.5); }
    50% { opacity: var(--opacity); transform: scale(1); }
}

/* Nebula effect */
.nebula {
    position: fixed;
    border-radius: 50%;
    filter: blur(60px);
    opacity: 0.3;
    z-index: -1;
    background-blend-mode: screen;
    mix-blend-mode: screen;
    animation: nebula-float 30s infinite alternate ease-in-out;
}
@keyframes nebula-float {
    0% { transform: translate(0, 0) rotate(0deg); }
    100% { transform: translate(50px, 50px) rotate(10deg); }
}

/* Cosmic dust */
.cosmic-dust {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -3;
    opacity: 0.6;
    animation: cosmic-dust-move 120s linear infinite;
}
@keyframes cosmic-dust-move {
    0% { background-position: 0 0; }
    100% { background-position: 1000px 1000px; }
}

/* Deep space stars effect */
.deep-space {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: -2;
    background-image: 
        radial-gradient(2px 2px at 20px 30px, #eee, rgba(0,0,0,0)),
        radial-gradient(2px 2px at 40px 70px, #fff, rgba(0,0,0,0)),
        radial-gradient(1px 1px at 90px 40px, #fff, rgba(0,0,0,0)),
        radial-gradient(2px 2px at 160px 120px, #ddd, rgba(0,0,0,0)),
        radial-gradient(1px 1px at 230px 190px, #fff, rgba(0,0,0,0));
    background-repeat: repeat;
    background-size: 250px 250px;
}

/* Planet orbits */
.orbit {
    position: fixed;
    border-radius: 50%;
    border: 1px solid rgba(255, 255, 255, 0.1);
    z-index: -1;
    box-shadow: 0 0 30px rgba(1, 200, 238, 0.03);
    animation: orbit-rotate 60s linear infinite;
}
.planet {
    position: absolute;
    border-radius: 50%;
    box-shadow: 0 0 15px 2px var(--glow-color);
    animation: planet-glow 4s ease-in-out infinite alternate;
}
.planet::after {
    content: '';
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
    border-radius: 50%;
    box-shadow: 0 0 10px 3px rgba(255, 255, 255, 0.1);
    opacity: 0.3;
}
@keyframes orbit-rotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
@keyframes planet-glow {
    0% { box-shadow: 0 0 12px 2px var(--glow-color); }
    100% { box-shadow: 0 0 18px 4px var(--glow-color); }
}
</style></head>
<body>
<div class="stars-container" id="stars-container"></div>
<div class="deep-space"></div>
<div class="cosmic-dust" style="background-image: url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22100%22 height=%22100%22 viewBox=%220 0 100 100%22><g fill-opacity=%220.05%22><circle fill=%22%23fff%22 cx=%2225%22 cy=%2270%22 r=%220.7%22/><circle fill=%22%23fff%22 cx=%2240%22 cy=%2280%22 r=%220.5%22/><circle fill=%22%23fff%22 cx=%2275%22 cy=%2225%22 r=%220.7%22/><circle fill=%22%23fff%22 cx=%2275%22 cy=%2275%22 r=%220.5%22/><circle fill=%22%23eee%22 cx=%2279%22 cy=%2220%22 r=%220.7%22/><circle fill=%22%23fff%22 cx=%22100%22 cy=%2220%22 r=%220.6%22/><circle fill=%22%23fff%22 cx=%2215%22 cy=%2215%22 r=%220.5%22/></g></svg>');"></div>

<!-- Nebula effects -->
<div class="nebula" style="width: 600px; height: 600px; top: -100px; left: -100px; background: var(--nebula-color1);"></div>
<div class="nebula" style="width: 500px; height: 500px; bottom: -100px; right: -100px; background: var(--nebula-color2); animation-delay: -15s;"></div>
<div class="nebula" style="width: 400px; height: 400px; top: 50%; right: -150px; background: var(--nebula-color3); animation-delay: -7s;"></div>
<div class="nebula" style="width: 700px; height: 700px; top: 30%; left: 60%; background: var(--nebula-color4); animation-delay: -20s;"></div>
<div class="nebula" style="width: 350px; height: 350px; bottom: 20%; left: 10%; background: var(--nebula-color5); animation-delay: -10s;"></div>

<!-- Planet orbits -->
<div class="orbit" style="width: 800px; height: 800px; top: 50%; left: 10%; transform: translate(-50%, -50%); border: 1px solid rgba(58, 134, 255, 0.2);">
    <div class="planet" style="width: 20px; height: 20px; background: var(--primary-color); top: 0%; left: 50%; --glow-color: var(--primary-color);"></div>
</div>
<div class="orbit" style="width: 400px; height: 400px; top: 20%; right: 10%; transform: translate(50%, -50%); animation-duration: 40s; border: 1px solid rgba(174, 95, 248, 0.2);">
    <div class="planet" style="width: 15px; height: 15px; background: var(--secondary-color); bottom: 0%; left: 50%; --glow-color: var(--secondary-color);"></div>
</div>
<div class="orbit" style="width: 300px; height: 300px; top: 85%; left: 75%; transform: translate(-50%, -50%); animation-duration: 30s; border: 1px solid rgba(0, 212, 255, 0.2);">
    <div class="planet" style="width: 12px; height: 12px; background: var(--primary-light); top: 50%; right: 0%; --glow-color: var(--primary-light);"></div>
</div>

<div class="blob blob-1"></div>
<div class="blob blob-2"></div>
<div class="container">
<header>

<style>
h1 {
    font-family: 'Space Grotesk', 'Orbitron', sans-serif;
    font-size: 2.8em;
    text-align: center;
    margin: 30px 0;
    color: transparent;
    background: linear-gradient(45deg, #3a86ff 30%, #ae5ff8 70%);
    -webkit-background-clip: text;
    background-clip: text;
    text-shadow: 0 0 15px rgba(58, 134, 255, 0.4);
    position: relative;
    padding: 20px;
    letter-spacing: 2px;
}

h1::before,
h1::after {
    content: '';
    position: absolute;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, #3d3dff);
    animation: borderExpand 1.5s ease-out forwards;
}

h1::before {
    top: 0;
    left: 0;
}

h1::after {
    bottom: 0;
    right: 0;
    animation-delay: 0.5s;
}

@keyframes borderExpand {
    to {
        width: 100%;
    }
}
</style>


<h1>AI HUB Text to Audio</h1>
<p class="description">Enter text, select a voice style, and convert your text to natural, flowing speech with a single click.<br>Supports multiple voice characteristics to help you create professional-quality audio content.</p>

<br>

<style>
.sci-fi-btn {
    position: relative;
    padding: 4px 8px;
    font-family: 'Space Grotesk', 'Arial', sans-serif;
    font-size: 1em;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: #3a86ff;
    background: #071428;
    border: 2px solid #3a86ff;
    border-radius: 8px;
    cursor: pointer;
    overflow: hidden;
    transition: 0.5s;
    text-shadow: 0 0 10px #3a86ff;
    box-shadow: 0 0 20px rgba(58, 134, 255, 0.3);
}

.sci-fi-btn:hover {
    background: #0a2040;
    box-shadow: 0 0 30px rgba(58, 134, 255, 0.6);
    transform: scale(1.05);
    color: #ffffff;
    border-color: #5c9aff;
}



.sci-fi-btn:hover::before {
    left: 100%;
}



.glowing-border:nth-child(1) {
    top: -2px;
    left: -2px;
    right: -2px;
    height: 2px;
    background: linear-gradient(90deg, transparent, #3a86ff);
    animation: borderTop 2s linear infinite;
}

@keyframes borderTop {
    0% { left: -2px; }
    100% { left: 100%; }
}

/* 添加点击动画 */
.sci-fi-btn:active {
    transform: scale(0.45);
    transition: 0.1s;
}

</style>

<a href="https://kirazul.github.io/AIHUB" class="sci-fi-btn" style="text-decoration: none;">
    <!-- Glowing borders -->
    <span class="glowing-border"></span>
    <span class="glowing-border"></span>
    Back to AI HUB
</a>











</header>
<div class="content">
<section class="text-input-section">
<div class="card">
<h2 class="section-title"><i class="fas fa-microphone-alt"></i>Voice Generation</h2>
<!-- Voice style selection -->
<div class="input-section-title"><i class="fas fa-sliders"></i>Select Voice Style</div>
<p style="margin-bottom: 0.75rem; font-size: 0.95rem; color: var(--text-light);">Each style has its unique tone and expressiveness. Choose the voice that best fits your content</p>
<div class="voice-style-selector">
<div class="voice-style-option">
<input type="radio" id="voice-alloy" name="voiceStyle" value="alloy" checked>
<label for="voice-alloy">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-alloy);"></i></span>
<span class="voice-style-name">Alloy</span>
<span class="voice-style-desc">Balanced & Neutral</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-echo" name="voiceStyle" value="echo">
<label for="voice-echo">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-echo);"></i></span>
<span class="voice-style-name">Echo</span>
<span class="voice-style-desc">Deep & Powerful</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-fable" name="voiceStyle" value="fable">
<label for="voice-fable">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-fable);"></i></span>
<span class="voice-style-name">Fable</span>
<span class="voice-style-desc">Warm Narration</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-onyx" name="voiceStyle" value="onyx">
<label for="voice-onyx">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-onyx);"></i></span>
<span class="voice-style-name">Onyx</span>
<span class="voice-style-desc">Authoritative</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-nova" name="voiceStyle" value="nova">
<label for="voice-nova">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-nova);"></i></span>
<span class="voice-style-name">Nova</span>
<span class="voice-style-desc">Friendly & Professional</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-shimmer" name="voiceStyle" value="shimmer">
<label for="voice-shimmer">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-shimmer);"></i></span>
<span class="voice-style-name">Shimmer</span>
<span class="voice-style-desc">Light & Bright</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-coral" name="voiceStyle" value="coral">
<label for="voice-coral">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-coral);"></i></span>
<span class="voice-style-name">Coral</span>
<span class="voice-style-desc">Gentle & Calm</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-verse" name="voiceStyle" value="verse">
<label for="voice-verse">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-verse);"></i></span>
<span class="voice-style-name">Verse</span>
<span class="voice-style-desc">Vivid & Poetic</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-ballad" name="voiceStyle" value="ballad">
<label for="voice-ballad">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-ballad);"></i></span>
<span class="voice-style-name">Ballad</span>
<span class="voice-style-desc">Lyrical & Soft</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-ash" name="voiceStyle" value="ash">
<label for="voice-ash">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-ash);"></i></span>
<span class="voice-style-name">Ash</span>
<span class="voice-style-desc">Thoughtful & Steady</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-sage" name="voiceStyle" value="sage">
<label for="voice-sage">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-sage);"></i></span>
<span class="voice-style-name">Sage</span>
<span class="voice-style-desc">Wise & Experienced</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-amuch" name="voiceStyle" value="amuch">
<label for="voice-amuch">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-amuch);"></i></span>
<span class="voice-style-name">Amuch</span>
<span class="voice-style-desc">Full & Natural</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-aster" name="voiceStyle" value="aster">
<label for="voice-aster">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-aster);"></i></span>
<span class="voice-style-name">Aster</span>
<span class="voice-style-desc">Clear & Direct</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-brook" name="voiceStyle" value="brook">
<label for="voice-brook">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-brook);"></i></span>
<span class="voice-style-name">Brook</span>
<span class="voice-style-desc">Smooth & Comfortable</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-clover" name="voiceStyle" value="clover">
<label for="voice-clover">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-clover);"></i></span>
<span class="voice-style-name">Clover</span>
<span class="voice-style-desc">Lively & Young</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-dan" name="voiceStyle" value="dan">
<label for="voice-dan">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-dan);"></i></span>
<span class="voice-style-name">Dan</span>
<span class="voice-style-desc">Steady Male Voice</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-elan" name="voiceStyle" value="elan">
<label for="voice-elan">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-elan);"></i></span>
<span class="voice-style-name">Elan</span>
<span class="voice-style-desc">Elegant & Fluent</span>
</label>
</div>
</div>
<div class="divider"></div>
<!-- 文本输入 -->
<div class="input-section-title"><i class="fas fa-pen-fancy"></i>Enter Text</div>
<textarea id="textInput" placeholder="Enter text for AI voice to read. If you want the AI to read exactly as written, start with: Please read the text exactly as written."></textarea>
<div class="text-stats">
<div class="text-stat">
<i class="fas fa-text-height"></i>
<span id="charCount">Characters: 0</span>
</div>
<div class="text-stat">
<i class="fas fa-clock"></i>
<span id="durationEstimate">Estimated duration: 0 seconds</span>
</div>
</div>
<div style="display: flex; align-items: center;">
<button id="generateBtn" class="btn">
<i class="fas fa-waveform-voice"></i>
<span id="generateBtnText">Generate Audio</span>
<span id="generateBtnSpinner" class="spinner" style="display: none; margin-left: 8px;"></span>
</button>
<div class="shortcut-hint">Shortcut: <kbd>Ctrl</kbd> + <kbd>Enter</kbd></div>
</div>
</div>
<div class="usage-tips">
<div class="tips-title"><i class="fas fa-lightbulb"></i>Tips</div>
<ul class="tips-list">
<li>Use punctuation to add natural pauses and tone variations to the speech</li>
<li>Different voice styles suit different scenarios - experiment to find the best fit</li>
<li>For long texts, dividing into paragraphs and generating separately may yield better results</li>
<li>Specialized terms may need phonetic notation or replacement with more common expressions</li>
</ul>
</div>
</section>
<section class="audio-output-section">
<div class="card">
<div class="preview-container">
<div class="preview-icon">
<i class="fas fa-headphones-alt fa-5x"></i>
</div>
<div class="preview-header">
<h3 class="preview-title"><i class="fas fa-play-circle"></i>Audio Preview</h3>
</div>
<div id="currentVoiceContainer" style="display: none;" class="current-voice-info">
<div class="current-voice-icon" id="currentVoiceIcon">
<i class="fas fa-microphone"></i>
</div>
<div class="current-voice-details">
<div class="current-voice-name" id="currentVoiceName"></div>
<div class="current-voice-desc" id="currentVoiceDesc"></div>
</div>
</div>
<div id="audioContainer" style="flex: 1; display: flex; flex-direction: column; justify-content: center;">
<div class="preview-placeholder" id="noAudioMessage">
<i class="fas fa-music"></i>
<span>No audio generated yet</span>
</div>
</div>
</div>
<div id="downloadContainer" style="display: none;">
<button id="downloadBtn" class="btn btn-success">
<i class="fas fa-download"></i>Download Audio File
</button>
</div>
<div class="loading" id="loadingIndicator">
<span class="spinner"></span> Generating audio...
</div>
<div id="statusMessage" class="status"></div>
</div>
<div class="card history-section">
<div class="history-header">
<h2 class="section-title"><i class="fas fa-history"></i>History <span class="badge">Last 10</span></h2>
<button id="clearHistoryBtn" class="btn btn-sm btn-danger">
<i class="fas fa-trash"></i>Clear History
</button>
</div>
<div class="history-warning">
<i class="fas fa-exclamation-triangle"></i>
History links reset after refresh. Please download any audio you wish to keep.
</div>
<div class="history-container" id="historyContainer">
<div id="historyList">
<p class="no-history">No history records</p>
</div>
</div>
</div>
<div class="features-card">
<h3 class="features-title">Voice Features</h3>
<ul class="features-list">
<li class="feature-item">
<div class="feature-icon">
<i class="fas fa-volume-high"></i>
</div>
<div class="feature-text">
Natural, fluid voice synthesis approaching human speech
</div>
</li>
<li class="feature-item">
<div class="feature-icon">
<i class="fas fa-users"></i>
</div>
<div class="feature-text">
Multiple voice styles available for different scenarios
</div>
</li>
<li class="feature-item">
<div class="feature-icon">
<i class="fas fa-align-left"></i>
</div>
<div class="feature-text">
Supports long text conversion, ideal for content creation
</div>
</li>
<li class="feature-item">
<div class="feature-icon">
<i class="fas fa-download"></i>
</div>
<div class="feature-text">
One-click MP3 download for sharing across platforms
</div>
</li>
<li class="feature-item">
<div class="feature-icon">
<i class="fas fa-history"></i>
</div>
<div class="feature-text">
Local history storage for easy reuse and comparison
</div>
</li>
</ul>
</div>
</section>
</div>
<footer>
<p>© 2025 <a href="https://github.com/Kirazul/AIHUB" target="_blank" style="text-decoration: none; color: inherit;">AI HUB</a> | Made with ❤️ by Kira | <i class="fab fa-github"></i><a href="https://github.com/Kirazul/AIHUB" target="_blank" style="text-decoration: none; color: inherit;">GitHub Repository</a>  </p>
</footer>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Create stars
    const starsContainer = document.getElementById('stars-container');
    const starsCount = window.innerWidth <= 768 ? 100 : 200;
    
    for (let i = 0; i < starsCount; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        
        // Random position
        const x = Math.random() * 100;
        const y = Math.random() * 100;
        star.style.left = `${x}%`;
        star.style.top = `${y}%`;
        
        // Random animation duration and delay
        const duration = 2 + Math.random() * 3;
        const delay = Math.random() * 5;
        star.style.setProperty('--duration', `${duration}s`);
        star.style.setProperty('--delay', `${delay}s`);
        star.style.setProperty('--opacity', `${0.5 + Math.random() * 0.5}`);
        
        // Make some stars brighter
        if (Math.random() > 0.85) {
            star.classList.add('bright');
        } else if (Math.random() > 0.95) {
            star.classList.add('extra-bright');
        }
        
        starsContainer.appendChild(star);
    }
    
    const textInput = document.getElementById('textInput');
    const voiceSelect = document.getElementById('voiceSelect');
    const generateBtn = document.getElementById('generateBtn');
    const generateBtnText = document.getElementById('generateBtnText');
    const generateBtnSpinner = document.getElementById('generateBtnSpinner');
    const downloadBtn = document.getElementById('downloadBtn');
    const audioContainer = document.getElementById('audioContainer');
    const noAudioMessage = document.getElementById('noAudioMessage');
    const downloadContainer = document.getElementById('downloadContainer');
    const loadingIndicator = document.getElementById('loadingIndicator');
    const statusMessage = document.getElementById('statusMessage');
    const historyList = document.getElementById('historyList');
    const charCount = document.getElementById('charCount');
    const durationEstimate = document.getElementById('durationEstimate');
    const clearHistoryBtn = document.getElementById('clearHistoryBtn');
    const currentVoiceContainer = document.getElementById('currentVoiceContainer');
    const currentVoiceIcon = document.getElementById('currentVoiceIcon');
    const currentVoiceName = document.getElementById('currentVoiceName');
    const currentVoiceDesc = document.getElementById('currentVoiceDesc');
    const MAX_HISTORY_ITEMS = 10; // Limit history to 10 items
    const CHARS_PER_MINUTE = 150; // Estimated speaking speed
    const voiceDescriptions = {
        'alloy': 'Balanced & Neutral',
        'echo': 'Deep & Powerful',
        'fable': 'Warm Narration',
        'onyx': 'Authoritative',
        'nova': 'Friendly & Professional',
        'shimmer': 'Light & Bright',
        'coral': 'Gentle & Calm',
        'verse': 'Vivid & Poetic',
        'ballad': 'Lyrical & Soft',
        'ash': 'Thoughtful & Steady',
        'sage': 'Wise & Experienced',
        'amuch': 'Full & Natural',
        'aster': 'Clear & Direct',
        'brook': 'Smooth & Comfortable',
        'clover': 'Lively & Young',
        'dan': 'Steady Male Voice',
        'elan': 'Elegant & Fluent',
        'marilyn': 'Soft & Rounded',
        'meadow': 'Peaceful & Natural'
    };
    const voiceColors = {
        'alloy': '#4F46E5',
        'echo': '#6366F1',
        'fable': '#8B5CF6',
        'onyx': '#333333',
        'nova': '#10B981',
        'shimmer': '#60A5FA',
        'coral': '#F87171',
        'verse': '#FBBF24',
        'ballad': '#A78BFA',
        'ash': '#4B5563',
        'sage': '#059669',
        'amuch': '#F59E0B',
        'aster': '#2563EB',
        'brook': '#3B82F6',
        'clover': '#EC4899',
        'dan': '#1F2937',
        'elan': '#7C3AED',
        'marilyn': '#DB2777',
        'meadow': '#34D399'
    };
    let audioBlob = null;
    let history = [];
    // 同步单选按钮和下拉选择
    const voiceStyleOptions = document.querySelectorAll('.voice-style-option input[type="radio"]');
    voiceStyleOptions.forEach(option => {
        option.addEventListener('change', function() {
            if(this.checked) {
                voiceSelect.value = this.value;
            }
        });
    });
    // Load history from localStorage
    loadHistory();
    // Update character count and duration estimate as user types
    textInput.addEventListener('input', updateTextStats);
    function updateTextStats() {
        const text = textInput.value.trim();
        const count = text.length;
        // Update character count
        charCount.textContent = `Characters: ${count}`;
        // Calculate and update duration estimate
        const durationMinutes = count / CHARS_PER_MINUTE;
        let durationText;
        if (durationMinutes < 1/60) {
            durationText = 'Less than 1 second';
        } else if (durationMinutes < 1) {
            const seconds = Math.round(durationMinutes * 60);
            durationText = `${seconds} seconds`;
        } else {
            const minutes = Math.floor(durationMinutes);
            const seconds = Math.round((durationMinutes - minutes) * 60);
            if (seconds === 0) {
                durationText = `${minutes} minute${minutes > 1 ? 's' : ''}`;
            } else {
                durationText = `${minutes} minute${minutes > 1 ? 's' : ''} ${seconds} seconds`;
            }
        }
        durationEstimate.textContent = `Estimated duration: ${durationText}`;
    }
    // Function to update the current voice display
    function updateCurrentVoiceDisplay(voice) {
        const voiceName = voice.charAt(0).toUpperCase() + voice.slice(1);
        const voiceDesc = voiceDescriptions[voice] || '';
        const voiceColor = voiceColors[voice] || '#4F46E5';
        currentVoiceName.textContent = voiceName;
        currentVoiceDesc.textContent = voiceDesc;
        currentVoiceIcon.style.backgroundColor = voiceColor;
        currentVoiceContainer.style.display = 'flex';
    }
    // Function to generate audio from text
    async function generateAudio() {
        const text = textInput.value.trim();
        const selectedVoiceElement = document.querySelector('.voice-style-option input[type="radio"]:checked');
        const voice = selectedVoiceElement ? selectedVoiceElement.value : voiceSelect.value;
        if (!text) {
            showStatus('Please enter text content', 'error');
            return;
        }
        // Show loading indicators
        loadingIndicator.style.display = 'flex';
        generateBtnText.textContent = "Generating...";
        generateBtnSpinner.style.display = 'inline-block';
        generateBtn.disabled = true;
        // Hide any previous status message
        statusMessage.style.display = 'none';
        try {
            // Create the URL with the encoded text and selected voice
            const url = `https://text.pollinations.ai/${encodeURIComponent(text)}?model=openai-audio&voice=${voice}`;
            // Fetch the audio file
            const response = await fetch(url);
            if (!response.ok) {
                throw new Error(`Error: ${response.status} ${response.statusText}`);
            }
            // Get the audio blob
            audioBlob = await response.blob();
            // Create a URL for the blob
            const audioUrl = URL.createObjectURL(audioBlob);
            // Create audio element
            if (document.getElementById('audioElement')) {
                document.getElementById('audioElement').remove();
            }
            const audioElement = document.createElement('audio');
            audioElement.id = 'audioElement';
            audioElement.controls = true;
            audioElement.src = audioUrl;
            audioElement.className = 'custom-audio';
            // Create custom player container
            const customPlayerDiv = document.createElement('div');
            customPlayerDiv.className = 'custom-audio-player';
            customPlayerDiv.appendChild(audioElement);
            // Replace no audio message with audio element
            if (noAudioMessage) {
                noAudioMessage.style.display = 'none';
            }
            audioContainer.innerHTML = ''; // Clear preview container
            audioContainer.appendChild(customPlayerDiv);
            // Show download button
            downloadContainer.style.display = 'block';
            // Update current voice display
            updateCurrentVoiceDisplay(voice);
            // Get preview text (first 20 characters)
            const previewText = text.substring(0, 20) + (text.length > 20 ? '...' : '');
            // Add to history
            const timestamp = new Date();
            const historyItem = {
                id: Date.now(),
                timestamp: timestamp,
                voice: voice,
                text: text,
                previewText: previewText,
                blob: audioBlob
            };
            // Add new item to the beginning and limit to 10 items
            history.unshift(historyItem);
            if (history.length > MAX_HISTORY_ITEMS) {
                history = history.slice(0, MAX_HISTORY_ITEMS);
            }
            saveHistory();
            updateHistoryUI(historyItem.id); // Pass the new item ID to highlight it
            showStatus('Audio generated successfully!', 'success');
            // Play the audio automatically
            audioElement.play();
        } catch (error) {
            console.error('Error generating audio:', error);
            showStatus(`Error generating audio: ${error.message}`, 'error');
        } finally {
            // Hide loading indicators
            loadingIndicator.style.display = 'none';
            generateBtnText.textContent = "Generate Audio";
            generateBtnSpinner.style.display = 'none';
            generateBtn.disabled = false;
        }
    }
    // Function to download the generated audio
    function downloadAudio(blob, filename) {
        if (!blob) {
            showStatus('No audio available to download', 'error');
            return;
        }
        const downloadUrl = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = downloadUrl;
        a.download = filename || `audio_${new Date().getTime()}.mp3`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(downloadUrl);
    }
    // Function to download history item
    function downloadHistoryItem(id) {
        const item = history.find(h => h.id === id);
        if (item) {
            const sanitizedText = item.previewText.replace(/[^\w\u4e00-\u9fa5]/g, '');
            const fileName = `${item.voice}_${sanitizedText}.mp3`;
            downloadAudio(item.blob, fileName);
        }
    }
    // Function to update the history UI
    function updateHistoryUI(newItemId) {
        if (history.length === 0) {
            historyList.innerHTML = '<p class="no-history">No history records</p>';
            return;
        }
        historyList.innerHTML = '';
        // Display only the 10 most recent items
        history.forEach(item => {
            const historyItem = document.createElement('div');
            historyItem.className = 'history-item';
            if (item.id === newItemId) {
                historyItem.classList.add('new');
            }
            // Format timestamp
            const date = item.timestamp;
            const formattedDate = `${date.getFullYear()}-${(date.getMonth()+1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`;
            historyItem.innerHTML = `
                <div class="history-info">
                    <div class="history-timestamp">${formattedDate}</div>
                    <div class="history-voice">${item.voice}</div>
                    <div class="history-text">${item.previewText}</div>
                </div>
                <button class="btn btn-text history-download" data-id="${item.id}">
                    <i class="fas fa-download"></i> Download
                </button>
            `;
            historyList.appendChild(historyItem);
        });
        // Add event listeners to download buttons
        document.querySelectorAll('.history-download').forEach(btn => {
            btn.addEventListener('click', () => {
                const id = parseInt(btn.getAttribute('data-id'), 10);
                downloadHistoryItem(id);
            });
        });
    }
    // Function to clear all history
    function clearHistory() {
        if (confirm('Are you sure you want to clear all history records? This action cannot be undone.')) {
            history = [];
            localStorage.removeItem('audioGeneratorHistory');
            updateHistoryUI();
            showStatus('History cleared', 'success');
        }
    }
    // Function to save history to localStorage
    function saveHistory() {
        // We can't store blobs in localStorage, so we'll store other info and keep blobs in memory
        const historyData = history.map(item => ({
            id: item.id,
            timestamp: item.timestamp.toISOString(),
            voice: item.voice,
            text: item.text,
            previewText: item.previewText
        }));
        try {
            localStorage.setItem('audioGeneratorHistory', JSON.stringify(historyData));
        } catch (e) {
            console.error('Error saving history to localStorage:', e);
        }
    }
    // Function to load history from localStorage
    function loadHistory() {
        try {
            const historyData = localStorage.getItem('audioGeneratorHistory');
            if (historyData) {
                const parsedHistory = JSON.parse(historyData);
                history = parsedHistory.map(item => ({
                    ...item,
                    timestamp: new Date(item.timestamp),
                    blob: null // We don't store blobs in localStorage
                }));
                // Limit to MAX_HISTORY_ITEMS
                if (history.length > MAX_HISTORY_ITEMS) {
                    history = history.slice(0, MAX_HISTORY_ITEMS);
                }
                updateHistoryUI();
            }
        } catch (e) {
            console.error('Error loading history from localStorage:', e);
        }
    }
    // Function to show status messages
    function showStatus(message, type) {
        statusMessage.textContent = message;
        statusMessage.className = `status ${type}`;
        statusMessage.style.display = 'block';
        // Hide status after 5 seconds
        setTimeout(() => {
            statusMessage.style.display = 'none';
        }, 5000);
    }
    // Event listeners
    generateBtn.addEventListener('click', generateAudio);
    downloadBtn.addEventListener('click', () => {
        if (audioBlob) {
            const text = textInput.value.trim();
            const selectedVoiceElement = document.querySelector('.voice-style-option input[type="radio"]:checked');
            const voice = selectedVoiceElement ? selectedVoiceElement.value : voiceSelect.value;
            const previewText = text.substring(0, 20).replace(/[^\w\u4e00-\u9fa5]/g, '');
            const fileName = `${voice}_${previewText}.mp3`;
            downloadAudio(audioBlob, fileName);
        }
    });
    // Add keyboard shortcut (Ctrl+Enter) to generate audio
    textInput.addEventListener('keydown', function(e) {
        if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
            e.preventDefault();
            generateAudio();
        }
    });
    // Clear history button
    clearHistoryBtn.addEventListener('click', clearHistory);
    // Initialize text stats
    updateTextStats();
});
</script></body>
</html>
